queueonteleport([[loadstring(game:HttpGet('https://raw.githubusercontent.com/randy-rash/lua-files/refs/heads/main/asdaw1'))()]])

local Services = function(Name)
    return cloneref(game:GetService(Name))
end

local Players = Services('Players')
local RunService = Services('RunService')
local HttpService = Services('HttpService')
local TextChatService = Services('TextChatService')
local TeleportService = Services('TeleportService')
local ReplicatedStorage = Services('ReplicatedStorage')


local ServerHop = function()
    local ServerHistory = {}
    local HistoryFileName = "ServerHopHistory.json"
    local CurrentTime = os.time() 
    
    local Success, LoadedData = pcall(function()
        return HttpService:JSONDecode(readfile(HistoryFileName))
    end)
    
    if Success and LoadedData then
        if LoadedData.Timestamp and (CurrentTime - LoadedData.Timestamp) < 600 then
            ServerHistory = LoadedData.Servers or {}
        end
    end

    while true do
        local Cursor = nil
        local ValidServers = {}

        local FetchServers = function(Cursor)
            local Url = 'https://games.roblox.com/v1/games/'.. game.PlaceId ..'/servers/Public?sortOrder=Desc&limit=100&excludeFullGames=true'
            if Cursor and Cursor ~= "" then
                Url = Url .. '&cursor=' .. Cursor
            end

            local Success, Result = pcall(function()
                return game:HttpGet(Url, true)
            end)

            if not Success then
                warn('Request failed', Result)
                return nil
            end

            if Result == '{"errors":[{"code":0,"message":"Too many requests"}]}' then
                warn('Rate limited')
                task.wait(10)
                return nil
            end

            if not Result or Result == '' then
                return nil
            end

            local Success, Body = pcall(HttpService.JSONDecode, HttpService, Result)
            if not Success or not Body or not Body.data then
                warn('Cannot decode JSON or invalid response')
                return nil
            end

            return Body
        end

        repeat
            local Body = FetchServers(Cursor)
            if not Body then
                task.wait(5)
                break
            end
            
            Cursor = Body.nextPageCursor
            
            for _, Server in Body.data do
                if typeof(Server) == "table" and 
                   tonumber(Server.playing) and 
                   tonumber(Server.maxPlayers) and 
                   Server.playing < Server.maxPlayers and 
                   Server.id ~= game.JobId then
                    
                    local IsNewServer = true
                    for _, Id in ServerHistory do
                        if tostring(Id) == tostring(Server.id) then
                            IsNewServer = false
                            break
                        end
                    end
                    
                    if IsNewServer then
                        table.insert(ValidServers, Server.id)
                    end
                end
            end
            
            if #ValidServers > 0 then
                local SelectedServer = ValidServers[math.random(1, #ValidServers)]
                
                table.insert(ServerHistory, SelectedServer)
                pcall(function()
                    writefile(HistoryFileName, HttpService:JSONEncode({
                        Timestamp = os.time(),
                        Servers = ServerHistory
                    }))
                end)
                
                TeleportService:TeleportToPlaceInstance(game.PlaceId, SelectedServer, LocalPlayer)
                print('Serverhopped to '.. SelectedServer)
                return
            end
            
            task.wait(1)
        until not Cursor or Cursor == ""
        
        task.wait(5)
    end
end

local Timer = 0
local Loaded = function()
	if game:IsLoaded() and game.Players.LocalPlayer then
		return true
	end	
	return false
end	

local Connection
Connection = RunService.RenderStepped:Connect(function(Delta)
	Timer += Delta

	if Timer >= 10 then
		Connection:Disconnect()
		if not Loaded() then
			ServerHop()
		end
	elseif Loaded() then
		Connection:Disconnect()
	end	
end)	

if not Loaded() then game.Loaded:Wait() end

task.wait(3)

workspace.FallenPartsDestroyHeight = 0/0 -- don't even think about it girl

local LocalPlayer = Players.LocalPlayer
local LocalCharacter = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local LocalHumanoidRootPart = LocalCharacter:WaitForChild('HumanoidRootPart')

RunService:Set3dRenderingEnabled(false)
setfpscap(30)

if game.PlaceId == 5913858916 then
-- idfk anymore
repeat task.wait() until LocalPlayer:FindFirstChild('PlayerScripts')
local PlayerScripts = LocalPlayer.PlayerScripts

repeat task.wait() until PlayerScripts:FindFirstChild('ChatScript')
local ChatScript = PlayerScripts.ChatScript

repeat task.wait() until ChatScript:FindFirstChild('ChatMain')
local ChatMain = require(ChatScript.ChatMain)

repeat task.wait() until ChatMain.MessagePosted

-- ts is self explanatory
local Commands = {
	'size me 2',
	'name me '.. string.rep('burying ', 15),
	'color me red',
	'hat me 24114402',
	'hat me 305888394',
	'hat me 33070696',
	'hat me 24112667',
	'hotdance me 5'
}

task.spawn(function ()
      for _, Command in Commands do
        ChatMain.MessagePosted.fire('All', '/'.. tostring(Command))
        task.wait(1)
      end
  end)
end

for _,Seat in workspace:GetDescendants() do
  if Seat:IsA('Seat') then
    Seat:Destroy()
  end	
end

--all of these are in seconds
local TimePerPlayer = 5
local ChatTime = 1.5
local ServerHopTime = 15

local Messages = { 
  "join /burying we're a new hangout game",
	'join /burying if ur cool',
	"bored? join /burying we're making a hangout game",
	'bro what is happening in /burying',
	'_______________________________________________________________________________________________________________________________________________________________________________',
	'LOOL BRO WHAT IS HAPPENING IN /burying',
	'new hangout game /burying',
	'egirls at burying /burying',
	'join this for gws /burying',
	'nitro gws /burying',
	'join for a better hangout game /burying',
	'lonely? join /burying'
}

task.spawn(function()
	task.wait(ServerHopTime)
	
	while task.wait(0.5) do
		ServerHop()
	end
end)

local Chat = function(Message)
    local Msg = tostring(Message)
    if TextChatService.ChatVersion ~= Enum.ChatVersion.LegacyChatService then
        TextChatService.TextChannels.RBXGeneral:SendAsync(Msg)
    else
        local ChatEvents = ReplicatedStorage:FindFirstChild('DefaultChatSystemChatEvents')
        if ChatEvents and ChatEvents:FindFirstChild('SayMessageRequest') then
            ChatEvents.SayMessageRequest:FireServer(Msg, 'All')
        end
    end
end

local LastMsg = ''
task.spawn(function()
    while true do
		local RandomMsg

		repeat
			RandomMsg = Messages[math.random(1, #Messages)]
		until RandomMsg ~= LastMsg

		Chat(RandomMsg)
		LastMsg = RandomMsg

		task.wait(ChatTime)
    end
end)

local PlayerQueue = {}
local CurrentIndex = 1
local TrackStartTime = tick()

RunService.RenderStepped:Connect(function()
    if #PlayerQueue == 0 then
        PlayerQueue = Players:GetPlayers()
        for i = #PlayerQueue, 1, -1 do
            if PlayerQueue[i] == LocalPlayer then
                table.remove(PlayerQueue, i)
                break
            end
        end
        CurrentIndex = 1
        TrackStartTime = tick()
        return
    end

    local CurrentPlayer = PlayerQueue[CurrentIndex]
    if not CurrentPlayer then return end

    local Character = CurrentPlayer.Character
    local HumanoidRootPart = Character and Character:FindFirstChild('HumanoidRootPart')
    local Humanoid = Character and Character:FindFirstChildOfClass('Humanoid')

    if not Character or not Humanoid or Humanoid.Health <= 0 or not HumanoidRootPart then
        CurrentIndex += 1
        TrackStartTime = tick()
        if CurrentIndex > #PlayerQueue then
            PlayerQueue = {}
        end
        return
    end

    LocalHumanoidRootPart.CFrame = HumanoidRootPart.CFrame * CFrame.Angles(math.random() * math.pi*2, math.random() * math.pi*2, math.random() * math.pi*2)

    if tick() - TrackStartTime >= TimePerPlayer or HumanoidRootPart.Velocity.Magnitude > 500 then
        CurrentIndex += 1
        TrackStartTime = tick()

        if CurrentIndex > #PlayerQueue then
            PlayerQueue = {}
        end
    end
end)

local Workspace = game:GetService('Workspace')

local ReplicatedStorage = game:GetService('ReplicatedStorage')
local RunService = game:GetService('RunService')

local Players = game:GetService('Players')
local LocalPlayer = Players.LocalPlayer
local Character = LocalPlayer.Character

LocalPlayer.CharacterAdded:Connect(function(NewCharacter)
    Character = NewCharacter
    ReplicatedStorage.Block:FireServer(true)
end)

local Punch = ReplicatedStorage.Punch

local GetClosestNpc = function()
    local Closest, ClosestDistance = nil, math.huge

    for _, Npc in Workspace:GetChildren() do
        local Humanoid = Npc:FindFirstChildOfClass('Humanoid')
        local RootPart = Npc:FindFirstChild('HumanoidRootPart')
        if not (Humanoid and Npc:FindFirstChild('Attacker') and RootPart) then continue end

        local Distance = (Character.PrimaryPart.Position - RootPart.Position).Magnitude
        if Distance < ClosestDistance then
            ClosestDistance = Distance
            Closest = Npc
        end 
    end

    return Closest
end

ReplicatedStorage.Block:FireServer(true) -- npc's wont damage you. atleast the starter ones idk

while true do
    for i = 1, 6 do
        Punch:FireServer(
            GetClosestNpc().Humanoid,
            i,
            Character.Cancellations.Value,
            nil,
            'DamageMultiplier: 1' -- this doesnt matter
        )
        task.wait()
    end
    task.wait(1) -- if u do it too fast ur game just crashes
end
